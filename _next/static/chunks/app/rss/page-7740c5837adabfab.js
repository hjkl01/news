(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{5880:function(e,t,s){Promise.resolve().then(s.bind(s,6162))},8030:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:n?24*Number(l)/Number(r):l,className:c("lucide",d),...!m&&!i(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:i,...o}=s;return(0,a.createElement)(d,{ref:l,iconNode:t,className:c("lucide-".concat(r(n(e))),"lucide-".concat(e),i),...o})});return s.displayName=n(e),s}},4241:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2421:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7592:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2022:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6162:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),r=s(2265),l=s(8030);let n=(0,l.Z)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),c=(0,l.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),i=(0,l.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),o=(0,l.Z)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),d=(0,l.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),m=(0,l.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var u=s(2421),h=s(7592),x=s(4241),p=s(2022);let g={BATCH_SIZE:3,BATCH_DELAY:100,RSS_PROXY_URL:"https://rsstojson.hjkl01.cn/api/rss",CATEGORY_COLORS:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#14B8A6","#F43F5E"]},y={stripHtml:e=>e?e.replace(/<[^>]*>/g,"").trim():"",formatDate:e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",truncateText:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return!e||e.length<=t?e:e.substring(0,t)+"..."},generateId:(e,t)=>"".concat(e,"-").concat(Date.now(),"-").concat(t)},f=()=>{let[e,t]=(0,r.useState)({}),[s,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(null),[c,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),m=(0,r.useCallback)(async()=>{i(!0),d(null);try{let e=await fetch("/rss-feeds.json");if(!e.ok)throw Error("无法加载RSS配置文件");let t=await e.json();n(t);let s=new Map;t.feeds.forEach((e,t)=>{s.has(e.category)||s.set(e.category,{id:e.category.toLowerCase().replace(/\s+/g,"-"),name:e.category,color:g.CATEGORY_COLORS[t%g.CATEGORY_COLORS.length],count:0})}),a(Array.from(s.values()))}catch(e){d(e instanceof Error?e.message:"加载RSS内容时发生错误")}finally{i(!1)}},[]);return{feedsByCategory:e,categories:s,rssConfig:l,loading:c,error:o,loadCategoriesAndConfig:m,addFeedsToCategory:(0,r.useCallback)((e,s)=>{t(t=>{let a=[...t[e]||[],...s],r=[],l=new Set;for(let e of a)l.has(e.link)||(l.add(e.link),r.push(e));return{...t,[e]:r}})},[]),clearCategoryFeeds:(0,r.useCallback)(e=>{t(t=>({...t,[e]:[]}))},[]),clearAllFeeds:(0,r.useCallback)(()=>{t({})},[]),setError:d}},b=()=>{let[e,t]=(0,r.useState)(new Set),[s,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(0),c=(0,r.useCallback)(e=>{t(t=>new Set(t).add(e))},[]),i=(0,r.useCallback)(e=>{t(t=>{let s=new Set(t);return s.delete(e),s})},[]);return{loadingFeeds:e,failedFeeds:s,loadedFeedsCount:l,addLoadingFeed:c,removeLoadingFeed:i,addFailedFeed:(0,r.useCallback)(e=>{a(t=>[...t,e])},[]),incrementLoadedCount:(0,r.useCallback)(()=>{n(e=>e+1)},[]),resetLoadingState:(0,r.useCallback)(()=>{t(new Set),a([]),n(0)},[])}},w=async(e,t)=>{try{var s,a,r,l,n;let c="".concat(g.RSS_PROXY_URL,"?url=").concat(encodeURIComponent(e.url)),i=await fetch(c);if(!i.ok)throw Error("HTTP ".concat(i.status));let o=await i.json(),d=[],m="";if("ok"===o.status&&o.items?(d=o.items,m=(null===(l=o.feed)||void 0===l?void 0:l.title)||(null===(n=o.feed)||void 0===n?void 0:n.name)||""):Array.isArray(o)?d=o:(null===(a=o.rss)||void 0===a?void 0:null===(s=a.channel)||void 0===s?void 0:s.item)?(d=Array.isArray(o.rss.channel.item)?o.rss.channel.item:[o.rss.channel.item],m=o.rss.channel.title||o.rss.channel.name||""):(null===(r=o.feed)||void 0===r?void 0:r.entry)?(d=Array.isArray(o.feed.entry)?o.feed.entry:[o.feed.entry],m=o.feed.title||o.feed.name||""):o.items&&Array.isArray(o.items)&&(d=o.items,m=o.title||o.name||""),d&&d.length>0)return d.map((s,a)=>{let r=s.title||s.name||"无标题",l=s.description||s.content||s.summary||"无描述",n=s.link||s.url||"#",c=s.pubDate||s.published||s.updated||s.date||Date.now(),i=s.author||s.creator||m||e.title||e.name;return{id:y.generateId(e.title||e.name,a),title:"string"==typeof r?r:(null==r?void 0:r._text)||(null==r?void 0:r._cdata)||"无标题",description:y.stripHtml("string"==typeof l?l:(null==l?void 0:l._text)||(null==l?void 0:l._cdata)||"无描述"),link:"string"==typeof n?n:(null==n?void 0:n._text)||(null==n?void 0:n._cdata)||"#",pubDate:new Date(c),category:t,source:m||e.title||e.name,author:"string"==typeof i?i:(null==i?void 0:i._text)||(null==i?void 0:i._cdata)||e.title||e.name,feedName:e.title||e.name}});return null}catch(t){return console.error("Error fetching RSS feed ".concat(e.title||e.name,":"),t),null}};function v(){let{feedsByCategory:e,categories:t,rssConfig:s,loading:l,error:v,loadCategoriesAndConfig:j,addFeedsToCategory:N,clearCategoryFeeds:k,clearAllFeeds:S,setError:C}=f(),[R,A]=(0,r.useState)(""),[E,_]=(0,r.useState)(!1),{loadingFeeds:Z,failedFeeds:L,loadedFeedsCount:B,addLoadingFeed:O,removeLoadingFeed:T,addFailedFeed:F,incrementLoadedCount:M,resetLoadingState:D}=b(),[H,z]=(0,r.useState)(null),[I,U]=(0,r.useState)(new Set),[Y,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{j()},[j]),(0,r.useEffect)(()=>{t.length},[t,H]);let q=(0,r.useMemo)(()=>[{id:"custom",name:"自定义",color:"#8B5CF6",count:e.custom?e.custom.length:0},...t],[t,e]),G=(0,r.useCallback)(async e=>{if("custom"!==e&&s){C(null),k(e),D();try{let a=t.find(t=>t.id===e);if(!a)throw Error("分类不存在");let r=s.feeds.filter(t=>t.category.toLowerCase().replace(/\s+/g,"-")===e);for(let t=0;t<r.length;t+=g.BATCH_SIZE)r.slice(t,t+g.BATCH_SIZE).forEach(async t=>{O(t.title);try{let s=await w(t,a);s&&s.length>0?(N(e,s),U(e=>new Set(e).add(t.title)),M()):F(t.title)}catch(e){console.error(e),F(t.title)}finally{T(t.title)}}),t+g.BATCH_SIZE<r.length&&await new Promise(e=>setTimeout(e,g.BATCH_DELAY))}catch(e){C(e instanceof Error?e.message:"加载RSS内容时发生错误")}}},[s,t,N,k,D,O,T,F,M,C]),W=(0,r.useCallback)(async t=>{if(z(t),P(!1),"custom"===t){let t=e.custom||[];t.length>0&&U(new Set(t.map(e=>e.feedName)));return}e[t]&&0!==e[t].length?U(new Set(e[t].map(e=>e.feedName))):await G(t)},[e,G]),V=(0,r.useCallback)(async()=>{S(),D(),P(!1),H&&await G(H)},[H,S,D,G]),X=(0,r.useCallback)(()=>{H&&(setFeedsByCategory(e=>{let t=[...e[H]||[]].sort((e,t)=>t.pubDate.getTime()-e.pubDate.getTime());return{...e,[H]:t}}),P(!0))},[H]),$=(0,r.useCallback)(async()=>{if(!R.trim()){C("请输入有效的RSS地址");return}_(!0),C(null);try{let e={title:"自定义RSS源",name:"自定义RSS源",url:R,category:"自定义"},t=await w(e,{id:"custom",name:"自定义",color:"#8B5CF6"});t&&t.length>0?(N("custom",t),U(t=>new Set(t).add(e.title)),M(),z("custom")):C("无法获取RSS内容，请检查URL是否正确")}catch(e){console.error("Error adding custom feed:",e),C("添加RSS源时发生错误: "+(e.message||"未知错误"))}finally{_(!1)}},[R,H,N,M,C]),[K,J]=(0,r.useState)(null),Q=(0,r.useMemo)(()=>H&&e[H]||[],[H,e]),ee=(0,r.useMemo)(()=>Q.reduce((e,t)=>(e[t.feedName]||(e[t.feedName]=[]),e[t.feedName].push(t),e),{}),[Q]),et=(0,r.useCallback)((e,t,s)=>{U(a=>{let r=new Set(a);if(r.has(e)){r.delete(e);let a=s[t+1];if(a){let e=ee[a[0]];e&&e.length>0&&J("rss-feed-item-".concat(e[0].id))}}else r.add(e);return r})},[ee]);(0,r.useEffect)(()=>{K&&setTimeout(()=>{let e=document.getElementById(K);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-120,left:0,behavior:"instant"})},300)),J(null)},100)},[K]);let es=(0,r.useCallback)(()=>{let e=Object.keys(ee);U(t=>t.size===e.length?new Set:new Set(e))},[ee]),ea=l||Z.size>0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg",children:(0,a.jsx)(n,{className:"w-6 h-6 text-white"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"RSS订阅阅读器"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:es,disabled:null===H,className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-200 shadow-sm hover:shadow-md border ".concat(null===H?"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed":"bg-white hover:bg-gray-50 text-gray-700 border-gray-200"),children:(0,a.jsx)("span",{children:I.size===Object.keys(ee).length?"收起全部":"展开全部"})}),null!==H&&Object.keys(ee).length>0&&(0,a.jsxs)("button",{onClick:X,disabled:Y,className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-200 shadow-sm hover:shadow-md border ".concat(Y?"bg-green-50 border-green-200 text-green-700 cursor-not-allowed":"bg-white hover:bg-gray-50 border-gray-200 text-gray-700"),children:[(0,a.jsx)(c,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:Y?"已按时间排序":"按时间排序"})]}),(0,a.jsxs)("button",{onClick:V,disabled:ea||null===H,className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md border ".concat(ea||null===H?"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white border-transparent"),children:[(0,a.jsx)(i,{className:"w-4 h-4 ".concat(ea?"animate-spin":"")}),(0,a.jsx)("span",{children:"刷新内容"})]})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-md font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(n,{className:"w-4 h-4 mr-2 text-blue-500"}),"添加自定义RSS源"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:R,onChange:e=>A(e.target.value),onKeyPress:e=>{"Enter"===e.key&&!E&&R.trim()&&$()},placeholder:"https://example.com/rss",className:"w-4/5 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200"}),(0,a.jsx)("button",{onClick:$,disabled:E||!R.trim(),className:"px-4 py-2 rounded-lg transition-all duration-200 flex items-center shadow-sm whitespace-nowrap ".concat(E||!R.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white transform hover:scale-105"),children:E?(0,a.jsx)(i,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)("span",{children:"添加"})})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,a.jsxs)("h3",{className:"text-md font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(o,{className:"w-4 h-4 mr-2 text-blue-500"}),"分类"]})}),q.map(t=>{var s;return(0,a.jsxs)("button",{onClick:()=>W(t.id),className:"w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center justify-between shadow-sm hover:shadow-md ".concat(H===t.id?"text-white shadow-md":"text-gray-700 hover:bg-gray-50"),style:{backgroundColor:H===t.id?t.color:"transparent"},children:[(0,a.jsx)("span",{className:"font-medium",children:t.name}),(0,a.jsx)("span",{className:"text-sm px-2 py-1 rounded-full font-medium",style:{backgroundColor:H===t.id?"rgba(255, 255, 255, 0.2)":t.color+"20",color:H===t.id?"white":t.color},children:(null===(s=e[t.id])||void 0===s?void 0:s.length)||0})]},t.id)})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[v&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-center space-x-3 shadow-sm",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-800 font-medium",children:"加载错误"}),(0,a.jsx)("p",{className:"text-red-600 text-sm",children:v})]})]}),L.length>0&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-yellow-800 font-medium",children:"部分RSS源加载失败"})]}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm mb-2",children:"以下RSS源暂时无法访问："}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[L.slice(0,5).map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:e},t)),L.length>5&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:["+",L.length-5," 更多"]})]})]}),ea?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"正在动态加载RSS内容..."}),B>0&&(0,a.jsxs)("p",{className:"text-sm text-green-600 mt-2 flex items-center justify-center",children:[(0,a.jsx)(m,{className:"w-4 h-4 mr-1"}),"已成功加载 ",B," 个RSS源"]})]}),Z.size>0&&(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"正在动态加载RSS源："}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(Z).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm shadow-sm",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-blue-500"}),(0,a.jsx)("span",{children:e})]},t))}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-3",children:"内容将实时显示，无需等待所有加载完成。新内容会追加到列表末尾，不影响已有内容的查看。"})]})]}):null===H?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[(0,a.jsx)(o,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"请选择一个分类"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"从左侧分类列表中选择一个分类以查看RSS内容"})]}):(0,a.jsx)("div",{className:"space-y-6",children:0===Object.entries(ee).length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[(0,a.jsx)(n,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"暂无RSS内容"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"该分类下暂无内容或加载失败"}),(0,a.jsx)("button",{onClick:V,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md",children:"重新加载"})]}):Object.entries(ee).map((e,t,s)=>{var r,l;let[n,c]=e,i=I.has(n),o=(null===(r=c[0])||void 0===r?void 0:r.category.color)||"#3B82F6",d="rss-source-header-".concat(n.replace(/[^a-zA-Z0-9]/g,""));return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg",children:[(0,a.jsx)("div",{id:d,className:"px-6 py-4 cursor-pointer hover:bg-opacity-90 transition-all duration-200 sticky top-16 z-20 bg-white/90 backdrop-blur border-b border-gray-100 shadow-sm",style:{backgroundColor:o+"10"},onClick:()=>et(n,t,s),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold shadow-sm",style:{backgroundColor:o},children:n.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[c.length," 篇文章"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white shadow-sm",style:{backgroundColor:o},children:null===(l=c[0])||void 0===l?void 0:l.category.name}),i?(0,a.jsx)(u.Z,{className:"w-5 h-5 text-gray-500"}):(0,a.jsx)(h.Z,{className:"w-5 h-5 text-gray-500"})]})]})}),i&&(0,a.jsx)("div",{className:"divide-y divide-gray-100 overflow-hidden",children:c.map(e=>(0,a.jsx)("div",{id:"rss-feed-item-".concat(e.id),className:"p-6 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-1 h-16 rounded-full flex-shrink-0 mt-1",style:{backgroundColor:o}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold text-gray-900 line-clamp-2 hover:underline",style:{color:o},children:e.title}),(0,a.jsxs)("span",{className:"flex items-center text-sm text-gray-500 whitespace-nowrap ml-4",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),y.formatDate(e.pubDate)]})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:y.truncateText(e.description)}),(0,a.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:(0,a.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"truncate max-w-32",children:e.author})]})})})]})]})},e.id))})]},n)})})]})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5880)}),_N_E=e.O()}]);