(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{5880:function(e,t,s){Promise.resolve().then(s.bind(s,4086))},8030:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:m,iconNode:x,...h}=e;return(0,a.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:s,strokeWidth:n?24*Number(r)/Number(l):r,className:i("lucide",o),...!m&&!c(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:c,...d}=s;return(0,a.createElement)(o,{ref:r,iconNode:t,className:i("lucide-".concat(l(n(e))),"lucide-".concat(e),c),...d})});return s.displayName=n(e),s}},2421:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7592:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8030).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4086:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(7437),l=s(2265),r=s(8030);let n=(0,r.Z)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),i=(0,r.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),c=(0,r.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,r.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o=(0,r.Z)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var m=s(2421),x=s(7592);let h=(0,r.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),u=(0,r.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p={BATCH_SIZE:3,BATCH_DELAY:100,RSS_PROXY_URL:"https://rsstojson.hjkl01.cn/api/rss",CATEGORY_COLORS:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#14B8A6","#F43F5E"]},b={stripHtml:e=>e?e.replace(/<[^>]*>/g,"").trim():"",formatDate:e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",truncateText:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return!e||e.length<=t?e:e.substring(0,t)+"..."},generateId:(e,t)=>"".concat(e,"-").concat(Date.now(),"-").concat(t)},f=()=>{let[e,t]=(0,l.useState)({}),[s,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(null),[i,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)(null),m=(0,l.useCallback)(async()=>{c(!0),o(null);try{let e=await fetch("/rss-feeds.json");if(!e.ok)throw Error("无法加载RSS配置文件");let t=await e.json();n(t);let s=new Map;t.feeds.forEach((e,t)=>{s.has(e.category)||s.set(e.category,{id:e.category.toLowerCase().replace(/\s+/g,"-"),name:e.category,color:p.CATEGORY_COLORS[t%p.CATEGORY_COLORS.length],count:0})}),a(Array.from(s.values()))}catch(e){o(e instanceof Error?e.message:"加载RSS内容时发生错误")}finally{c(!1)}},[]);return{feedsByCategory:e,categories:s,rssConfig:r,loading:i,error:d,loadCategoriesAndConfig:m,addFeedsToCategory:(0,l.useCallback)((e,s)=>{t(t=>{let a=[...t[e]||[],...s],l=[],r=new Set;for(let e of a)r.has(e.link)||(r.add(e.link),l.push(e));return{...t,[e]:l}})},[]),clearCategoryFeeds:(0,l.useCallback)(e=>{t(t=>({...t,[e]:[]}))},[]),clearAllFeeds:(0,l.useCallback)(()=>{t({})},[]),setError:o}},g=()=>{let[e,t]=(0,l.useState)(new Set),[s,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(0),i=(0,l.useCallback)(e=>{t(t=>new Set(t).add(e))},[]),c=(0,l.useCallback)(e=>{t(t=>{let s=new Set(t);return s.delete(e),s})},[]);return{loadingFeeds:e,failedFeeds:s,loadedFeedsCount:r,addLoadingFeed:i,removeLoadingFeed:c,addFailedFeed:(0,l.useCallback)(e=>{a(t=>[...t,e])},[]),incrementLoadedCount:(0,l.useCallback)(()=>{n(e=>e+1)},[]),resetLoadingState:(0,l.useCallback)(()=>{t(new Set),a([]),n(0)},[])}},y=async(e,t)=>{try{var s,a,l,r,n;let i="".concat(p.RSS_PROXY_URL,"?url=").concat(encodeURIComponent(e.url)),c=await fetch(i);if(!c.ok)throw Error("HTTP ".concat(c.status));let d=await c.json(),o=[],m="";if("ok"===d.status&&d.items?(o=d.items,m=(null===(r=d.feed)||void 0===r?void 0:r.title)||(null===(n=d.feed)||void 0===n?void 0:n.name)||""):Array.isArray(d)?o=d:(null===(a=d.rss)||void 0===a?void 0:null===(s=a.channel)||void 0===s?void 0:s.item)?(o=Array.isArray(d.rss.channel.item)?d.rss.channel.item:[d.rss.channel.item],m=d.rss.channel.title||d.rss.channel.name||""):(null===(l=d.feed)||void 0===l?void 0:l.entry)?(o=Array.isArray(d.feed.entry)?d.feed.entry:[d.feed.entry],m=d.feed.title||d.feed.name||""):d.items&&Array.isArray(d.items)&&(o=d.items,m=d.title||d.name||""),o&&o.length>0)return o.map((s,a)=>{let l=s.title||s.name||"无标题",r=s.description||s.content||s.summary||"无描述",n=s.link||s.url||"#",i=s.pubDate||s.published||s.updated||s.date||Date.now(),c=s.author||s.creator||m||e.title||e.name;return{id:b.generateId(e.title||e.name,a),title:"string"==typeof l?l:(null==l?void 0:l._text)||(null==l?void 0:l._cdata)||"无标题",description:b.stripHtml("string"==typeof r?r:(null==r?void 0:r._text)||(null==r?void 0:r._cdata)||"无描述"),link:"string"==typeof n?n:(null==n?void 0:n._text)||(null==n?void 0:n._cdata)||"#",pubDate:new Date(i),category:t,source:m||e.title||e.name,author:"string"==typeof c?c:(null==c?void 0:c._text)||(null==c?void 0:c._cdata)||e.title||e.name,feedName:e.title||e.name}});return null}catch(t){return console.error("Error fetching RSS feed ".concat(e.title||e.name,":"),t),null}};function j(){let{feedsByCategory:e,categories:t,rssConfig:s,loading:r,error:j,loadCategoriesAndConfig:w,addFeedsToCategory:v,clearCategoryFeeds:N,clearAllFeeds:k,setError:S}=f(),[C,A]=(0,l.useState)(""),[R,E]=(0,l.useState)(!1),{loadingFeeds:_,failedFeeds:Z,loadedFeedsCount:L,addLoadingFeed:B,removeLoadingFeed:T,addFailedFeed:O,incrementLoadedCount:F,resetLoadingState:D}=g(),[M,H]=(0,l.useState)(null),[z,I]=(0,l.useState)(new Set),[U,Y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{w()},[w]),(0,l.useEffect)(()=>{t.length},[t,M]);let q=(0,l.useMemo)(()=>[{id:"custom",name:"自定义",color:"#8B5CF6",count:e.custom?e.custom.length:0},...t],[t,e]),P=(0,l.useCallback)(async e=>{if("custom"!==e&&s){S(null),N(e),D();try{let a=t.find(t=>t.id===e);if(!a)throw Error("分类不存在");let l=s.feeds.filter(t=>t.category.toLowerCase().replace(/\s+/g,"-")===e);for(let t=0;t<l.length;t+=p.BATCH_SIZE)l.slice(t,t+p.BATCH_SIZE).forEach(async t=>{B(t.title);try{let s=await y(t,a);s&&s.length>0?(v(e,s),I(e=>new Set(e).add(t.title)),F()):O(t.title)}catch(e){console.error(e),O(t.title)}finally{T(t.title)}}),t+p.BATCH_SIZE<l.length&&await new Promise(e=>setTimeout(e,p.BATCH_DELAY))}catch(e){S(e instanceof Error?e.message:"加载RSS内容时发生错误")}}},[s,t,v,N,D,B,T,O,F,S]),G=(0,l.useCallback)(async t=>{if(H(t),Y(!1),"custom"===t){let t=e.custom||[];t.length>0&&I(new Set(t.map(e=>e.feedName)));return}e[t]&&0!==e[t].length?I(new Set(e[t].map(e=>e.feedName))):await P(t)},[e,P]),W=(0,l.useCallback)(async()=>{k(),D(),Y(!1),M&&await P(M)},[M,k,D,P]);(0,l.useCallback)(()=>{M&&(setFeedsByCategory(e=>{let t=[...e[M]||[]].sort((e,t)=>t.pubDate.getTime()-e.pubDate.getTime());return{...e,[M]:t}}),Y(!0))},[M]),(0,l.useCallback)(async()=>{if(!C.trim()){S("请输入有效的RSS地址");return}E(!0),S(null);try{let e={title:"自定义RSS源",name:"自定义RSS源",url:C,category:"自定义"},t=await y(e,{id:"custom",name:"自定义",color:"#8B5CF6"});t&&t.length>0?(v("custom",t),I(t=>new Set(t).add(e.title)),F(),H("custom")):S("无法获取RSS内容，请检查URL是否正确")}catch(e){console.error("Error adding custom feed:",e),S("添加RSS源时发生错误: "+(e.message||"未知错误"))}finally{E(!1)}},[C,M,v,F,S]);let[V,X]=(0,l.useState)(null),$=(0,l.useMemo)(()=>M&&e[M]||[],[M,e]),J=(0,l.useMemo)(()=>$.reduce((e,t)=>(e[t.feedName]||(e[t.feedName]=[]),e[t.feedName].push(t),e),{}),[$]),K=(0,l.useCallback)((e,t,s)=>{I(a=>{let l=new Set(a);if(l.has(e)){l.delete(e);let a=s[t+1];if(a){let e=J[a[0]];e&&e.length>0&&X("rss-feed-item-".concat(e[0].id))}}else l.add(e);return l})},[J]);(0,l.useEffect)(()=>{V&&setTimeout(()=>{let e=document.getElementById(V);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-120,left:0,behavior:"instant"})},300)),X(null)},100)},[V]),(0,l.useCallback)(()=>{let e=Object.keys(J);I(t=>t.size===e.length?new Set:new Set(e))},[J]);let Q=r||_.size>0;return(0,a.jsxs)("div",{className:"min-h-screen bg-[#faf8f5]",children:[(0,a.jsx)("header",{className:"bg-white border-b sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-14",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"bg-amber-500 p-2 rounded-lg",children:(0,a.jsx)(n,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-stone-800",children:"RSS订阅阅读器"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("button",{onClick:W,disabled:Q||null===M,className:"px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ".concat(Q||null===M?"bg-stone-100 text-stone-400 cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600"),children:[(0,a.jsx)(i,{className:"w-4 h-4 ".concat(Q?"animate-spin":""," mr-1 inline")}),"刷新"]})})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-stone-200 p-4 sticky top-20",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-stone-600 mb-3 px-2",children:"分类"}),(0,a.jsx)("div",{className:"space-y-1",children:q.map(t=>{var s;return(0,a.jsxs)("button",{onClick:()=>G(t.id),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-200 flex items-center justify-between ".concat(M===t.id?"bg-amber-100 text-amber-800":"text-stone-600 hover:bg-stone-100"),children:[(0,a.jsx)("span",{className:"truncate",children:t.name}),(0,a.jsx)("span",{className:"text-xs text-stone-400 ml-2",children:(null===(s=e[t.id])||void 0===s?void 0:s.length)||0})]},t.id)})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[j&&(0,a.jsxs)("div",{className:"bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-xl p-4 mb-6 flex items-center space-x-3 shadow-sm",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-800 font-medium",children:"加载错误"}),(0,a.jsx)("p",{className:"text-red-600 text-sm",children:j})]})]}),Z.length>0&&(0,a.jsxs)("div",{className:"bg-yellow-50/90 backdrop-blur-sm border border-yellow-200 rounded-xl p-4 mb-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-yellow-800 font-medium",children:"部分RSS源加载失败"})]}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm mb-2",children:"以下RSS源暂时无法访问："}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Z.slice(0,5).map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:e},t)),Z.length>5&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:["+",Z.length-5," 更多"]})]})]}),Q?(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-700 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"正在动态加载RSS内容..."}),L>0&&(0,a.jsxs)("p",{className:"text-sm text-slate-600 mt-2 flex items-center justify-center",children:[(0,a.jsx)(d,{className:"w-4 h-4 mr-1"}),"已成功加载 ",L," 个RSS源"]})]}),_.size>0&&(0,a.jsxs)("div",{className:"border-t border-slate-200/60 pt-4",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-3",children:"正在动态加载RSS源："}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(_).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm shadow-sm",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-slate-600"}),(0,a.jsx)("span",{children:e})]},t))}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-3",children:"内容将实时显示，无需等待所有加载完成。新内容会追加到列表末尾，不影响已有内容的查看。"})]})]}):null===M?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-stone-200 p-12 text-center",children:[(0,a.jsx)(o,{className:"w-12 h-12 text-stone-400 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-base font-medium text-stone-700 mb-1",children:"请选择一个分类"}),(0,a.jsx)("p",{className:"text-sm text-stone-500",children:"从左侧选择分类查看内容"})]}):(0,a.jsx)("div",{className:"space-y-5",children:0===Object.entries(J).length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-stone-200 p-12 text-center",children:[(0,a.jsx)(n,{className:"w-12 h-12 text-stone-400 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-base font-medium text-stone-700 mb-1",children:"暂无RSS内容"}),(0,a.jsx)("p",{className:"text-sm text-stone-500",children:"该分类下暂无内容"})]}):Object.entries(J).map((e,t,s)=>{var l;let[r,n]=e,i=z.has(r),c=(null===(l=n[0])||void 0===l?void 0:l.category.color)||"#3B82F6",d="rss-source-header-".concat(r.replace(/[^a-zA-Z0-9]/g,""));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-stone-200 overflow-hidden",children:[(0,a.jsx)("div",{id:d,className:"px-5 py-3.5 cursor-pointer hover:bg-stone-50 transition-colors sticky top-14 z-10 bg-white border-b border-stone-100",onClick:()=>K(r,t,s),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:c},children:r.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-stone-800",children:r}),(0,a.jsxs)("p",{className:"text-xs text-stone-500",children:[n.length," 篇"]})]})]}),i?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-stone-400"}):(0,a.jsx)(x.Z,{className:"w-4 h-4 text-stone-400"})]})}),i&&(0,a.jsx)("div",{className:"divide-y divide-stone-100",children:n.map(e=>(0,a.jsx)("div",{id:"rss-feed-item-".concat(e.id),className:"p-4 hover:bg-stone-50 transition-colors duration-150",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"w-1 h-12 rounded-full flex-shrink-0 mt-1",style:{backgroundColor:c}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-stone-800 font-medium line-clamp-2 hover:text-amber-700 transition-colors block",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-stone-500 mt-2 line-clamp-2",children:b.truncateText(e.description)}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-stone-400",children:[(0,a.jsx)("span",{children:e.author}),(0,a.jsx)("span",{children:b.formatDate(e.pubDate)})]})]})]})},e.id))})]},r)})}),Z.length>0&&(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:(0,a.jsx)("p",{className:"text-sm text-amber-800",children:"部分RSS源加载失败"})}),Q?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-stone-200 p-8",children:[(0,a.jsx)("div",{className:"flex justify-center items-center h-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-500"})}),(0,a.jsx)("p",{className:"text-center text-stone-500 text-sm mt-4",children:"正在加载..."})]}):null===M?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[(0,a.jsx)(o,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"请选择一个分类"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"从左侧分类列表中选择一个分类以查看RSS内容"})]}):(0,a.jsx)("div",{className:"space-y-6",children:0===Object.entries(J).length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[(0,a.jsx)(n,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"暂无RSS内容"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"该分类下暂无内容或加载失败"}),(0,a.jsx)("button",{onClick:W,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md",children:"重新加载"})]}):Object.entries(J).map((e,t,s)=>{var l,r;let[n,i]=e,c=z.has(n),d=(null===(l=i[0])||void 0===l?void 0:l.category.color)||"#3B82F6",o="rss-source-header-".concat(n.replace(/[^a-zA-Z0-9]/g,""));return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg",children:[(0,a.jsx)("div",{id:o,className:"px-6 py-4 cursor-pointer hover:bg-opacity-90 transition-all duration-200 sticky top-16 z-20 bg-white/90 backdrop-blur border-b border-gray-100 shadow-sm",style:{backgroundColor:d+"10"},onClick:()=>K(n,t,s),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold shadow-sm",style:{backgroundColor:d},children:n.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[i.length," 篇文章"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white shadow-sm",style:{backgroundColor:d},children:null===(r=i[0])||void 0===r?void 0:r.category.name}),c?(0,a.jsx)(m.Z,{className:"w-5 h-5 text-gray-500"}):(0,a.jsx)(x.Z,{className:"w-5 h-5 text-gray-500"})]})]})}),c&&(0,a.jsx)("div",{className:"divide-y divide-gray-100 overflow-hidden",children:i.map(e=>(0,a.jsx)("div",{id:"rss-feed-item-".concat(e.id),className:"p-6 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-1 h-16 rounded-full flex-shrink-0 mt-1",style:{backgroundColor:d}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold text-gray-900 line-clamp-2 hover:underline",style:{color:d},children:e.title}),(0,a.jsxs)("span",{className:"flex items-center text-sm text-gray-500 whitespace-nowrap ml-4",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr-1"}),b.formatDate(e.pubDate)]})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:b.truncateText(e.description)}),(0,a.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:(0,a.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"truncate max-w-32",children:e.author})]})})})]})]})},e.id))})]},n)})})]})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5880)}),_N_E=e.O()}]);